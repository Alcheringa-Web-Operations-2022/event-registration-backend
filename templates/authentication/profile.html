{% extends '../basictailwind.html'%}
{%block title%}Profile | Alcheringa {%endblock%}
{% block body %}
<Style>
    input,textarea{
       border: none;
       border-bottom: 1px solid rgb(214, 206, 206);
       margin: 16px 0px;
   }
   input,textarea:focus{
    outline: none;
    }
</Style>
<body>
	<div class="bg-blue-50 flex">
		{% include "../navbar.html" %}
		<div class="flex">
			<div class="flex-grow">
				<div class="bg-white flex bg-gray-50 flex-grow">
                    <div class="mx-4 flex-grow">
                        
                        <br>
                        <div class="flex m-1">
                            <div class=" bg-white max-w-4xl rounded-lg w-screen shadow-md">
                                <div >
                                    <div class="py-3 pl-6  text-xl border-b-2 font-normal">Edit profile</div>

                                    <br>
                                    <div class="mx-10">
                                        <div class="container">
                                            <img src="{{request.user.img.url}}" width="80px" id="dp-set"class="justify-self-start"
                                                alt="profile pic" border="0" class="mx-auto" style="border-radius:9999px;" />
                                            <button class="mx-6 bg-gray-200 rounded-full border-black" onclick="dpupload()" style = "transform:translate(30px,-18px) scale(1.5,1.5)">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                                                    fill="currentColor">
                                                    <path
                                                        d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                                                </svg>
                                            </button>
                                        </div>
                                        <!-- Hiden dp upload -->
                                        <form method="POST" enctype="multipart/form-data" class="grid grid-cols-2 gap-2 place-content-end md:place-content-center">{% csrf_token %}
                                        <div style="height:0px;overflow:hidden">
                                            {{ form.img }}
                                            
                                        </div>

                                        <br>
                                    
                                            <div>
                                                <div class="font-medium text-xs text-gray-500 text-left">Full name *</div>
                                                {{ form.fullname }}
                                            </div>



                                            <div>
                                                <div class="font-medium text-xs text-gray-500 text-left ">Username *</div>
                                                {{ form.username }}
                                            </div>


                                          

                                            <div>
                                                <div class="pt-6 font-medium text-xs text-gray-500 text-left">Email ID *</div>
                                                {{ request.user.email }}
                                            </div>

                                            <div>
                                                <div class="pt-6 font-medium text-xs text-gray-500 text-left">College *</div>
                                                {{ form.collegename }}
                                            </div>

                                            <div>
                                                <div class="pt-6 font-medium text-xs text-gray-500 text-left">City *</div>
                                                {{ form.city }}
                                            </div>

                                            <div>
                                                <div class="pt-6 font-medium text-xs text-gray-500 text-left">Phone *</div>
                                                {{  form.phone }}
                                            </div>
                                            <ul class="errorlist" style="color:red">
                                                {% if form.non_field_errors %}
                                                <li>{{ form.non_field_errors }}</li>
                                                {% endif %}
                                                {% for field in form %}
                                                {% if field.errors %}
                                                <ul class="errorlist">
                                                    {% for error in field.errors %}
                                                    {{ error }}
                                                    {% endfor %}
                                                </ul>
                                                {% endif %}
                                                {% endfor %}
                                            </ul><br>

                                            <div class="submit">
                                                <input type="submit"
                                                    class="bg-red-500 hover:bg-red-700 text-white inline-block py-2 px-4 rounded shadow-sm font-semibold text-base" value="Update details" />
                                            </div>

                                        </form>

                                        <br>
                                    </div>
                                    <div class="  w-80 border-gray-400 rounded mx-4 m-{5}"></div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
	</div>

</body>
<script>
    function dpupload() {
        $("#id_img").click();
    }
    document.getElementById("id_img").addEventListener('change', (event) => {
        document.getElementById("dp-set").src = URL.createObjectURL(event.target.files[0]);
    });
    
</script>
{% endblock %}